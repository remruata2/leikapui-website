import{r as g,s as W,c as s,w as Y,j as d,a7 as K,a8 as Z}from"./index-64dcebe6.js";function ee(e={}){const{nonce:a,onScriptLoadSuccess:c,onScriptLoadError:r}=e,[t,n]=g.useState(!1),o=g.useRef(c);o.current=c;const i=g.useRef(r);return i.current=r,g.useEffect(()=>{const l=document.createElement("script");return l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.nonce=a,l.onload=()=>{var u;n(!0),(u=o.current)===null||u===void 0||u.call(o)},l.onerror=()=>{var u;n(!1),(u=i.current)===null||u===void 0||u.call(i)},document.body.appendChild(l),()=>{document.body.removeChild(l)}},[a]),t}const q=g.createContext(null);function te({clientId:e,nonce:a,onScriptLoadSuccess:c,onScriptLoadError:r,children:t}){const n=ee({nonce:a,onScriptLoadSuccess:c,onScriptLoadError:r}),o=g.useMemo(()=>({clientId:e,scriptLoadedSuccessfully:n}),[e,n]);return W.createElement(q.Provider,{value:o},t)}function ne(){const e=g.useContext(q);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function oe(e){var a;return(a=e==null?void 0:e.clientId)!==null&&a!==void 0?a:e==null?void 0:e.client_id}const ie={large:40,medium:32,small:20};function re({onSuccess:e,onError:a,useOneTap:c,promptMomentNotification:r,type:t="standard",theme:n="outline",size:o="large",text:i,shape:l,logo_alignment:u,width:f,locale:b,click_listener:L,containerProps:v,..._}){const h=g.useRef(null),{clientId:B,scriptLoadedSuccessfully:F}=ne(),P=g.useRef(e);P.current=e;const O=g.useRef(a);O.current=a;const C=g.useRef(r);return C.current=r,g.useEffect(()=>{var S,j,p,R,D,A,T,k,G;if(F)return(p=(j=(S=window==null?void 0:window.google)===null||S===void 0?void 0:S.accounts)===null||j===void 0?void 0:j.id)===null||p===void 0||p.initialize({client_id:B,callback:m=>{var y;if(!(m!=null&&m.credential))return(y=O.current)===null||y===void 0?void 0:y.call(O);const{credential:E,select_by:X}=m;P.current({credential:E,clientId:oe(m),select_by:X})},..._}),(A=(D=(R=window==null?void 0:window.google)===null||R===void 0?void 0:R.accounts)===null||D===void 0?void 0:D.id)===null||A===void 0||A.renderButton(h.current,{type:t,theme:n,size:o,text:i,shape:l,logo_alignment:u,width:f,locale:b,click_listener:L}),c&&((G=(k=(T=window==null?void 0:window.google)===null||T===void 0?void 0:T.accounts)===null||k===void 0?void 0:k.id)===null||G===void 0||G.prompt(C.current)),()=>{var m,y,E;c&&((E=(y=(m=window==null?void 0:window.google)===null||m===void 0?void 0:m.accounts)===null||y===void 0?void 0:y.id)===null||E===void 0||E.cancel())}},[B,F,c,t,n,o,i,l,u,f,b]),W.createElement("div",{...v,ref:h,style:{height:ie[o],...v==null?void 0:v.style}})}var ce={},N={},$={},I={},x={};Object.defineProperty(x,"__esModule",{value:!0});x.createScriptEle=void 0;const ae=(e,a)=>new Promise(c=>{var r;const n=document.getElementsByTagName("script")[0];if(document.getElementById(e)){c(void 0);return}const o=document.createElement("script");if(o.id=e,o.src=a,o.onload=c,n)(r=n.parentNode)===null||r===void 0||r.insertBefore(o,n);else{const i=document.body.childNodes;document.body.insertBefore(o,i.item(i.length-1))}});x.createScriptEle=ae;var z={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.paramsToObject=e.objectToParams=e.isObject=void 0;const a=t=>Object.prototype.toString.call(t)==="[object Object]";e.isObject=a;const c=t=>!(0,e.isObject)(t)||Object.keys(t).length===0?"":"?"+Object.keys(t).map(n=>`${n}=${encodeURIComponent(t[n])}`).join("&");e.objectToParams=c;const r=t=>(t==null?void 0:t.replace(/^\?/,"").split("&").reduce((n,o)=>{if(!o)return n;const[i,l]=o.split("=");return Object.assign(Object.assign({},n),{[i]:decodeURIComponent(l)})},{}))||{};e.paramsToObject=r})(z);var M={};Object.defineProperty(M,"__esModule",{value:!0});M.isFacebookApp=void 0;const le=()=>{if(typeof window>"u")return!1;const e=navigator.userAgent||navigator.vendor||window.opera;return e.indexOf("FBAN")>-1||e.indexOf("FBAV")>-1||e.indexOf("Instagram")>-1};M.isFacebookApp=le;(function(e){var a=s&&s.__createBinding||(Object.create?function(r,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(r,o,i)}:function(r,t,n,o){o===void 0&&(o=n),r[o]=t[n]}),c=s&&s.__exportStar||function(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&a(t,r,n)};Object.defineProperty(e,"__esModule",{value:!0}),c(x,e),c(z,e),c(M,e)})(I);(function(e){var a=s&&s.__awaiter||function(t,n,o,i){function l(u){return u instanceof o?u:new o(function(f){f(u)})}return new(o||(o=Promise))(function(u,f){function b(_){try{v(i.next(_))}catch(h){f(h)}}function L(_){try{v(i.throw(_))}catch(h){f(h)}}function v(_){_.done?u(_.value):l(_.value).then(b,L)}v((i=i.apply(t,n||[])).next())})},c=s&&s.__rest||function(t,n){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(o[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(o[i[l]]=t[i[l]]);return o};Object.defineProperty(e,"__esModule",{value:!0}),e.FacebookLoginClient=e.SDK_SCRIPT_ELE_ID=void 0;const r=I;e.SDK_SCRIPT_ELE_ID="facebook-jssdk",e.FacebookLoginClient={getFB:()=>window.FB?window.FB:(console.warn("FB not found"),null),getLoginStatus(t,n=!1){const o=this.getFB();if(!o){t({status:"unknown"});return}o.getLoginStatus(t,n)},getProfile(t,n){var o;(o=this.getFB())===null||o===void 0||o.api("me",n,t)},init(t){var n;(n=this.getFB())===null||n===void 0||n.init(t)},clear(){window.FB=null;const t=document.getElementById(e.SDK_SCRIPT_ELE_ID);t&&t.remove()},isRedirected(t){var n,o;const i=(0,r.paramsToObject)(window.location.search);return((n=i.state===(t==null?void 0:t.state))!==null&&n!==void 0?n:"facebookdirect")&&i[(o=t==null?void 0:t.response_type)!==null&&o!==void 0?o:""]!==void 0},loadSdk(t,n){return a(this,void 0,void 0,function*(){yield(0,r.createScriptEle)(e.SDK_SCRIPT_ELE_ID,`https://connect.facebook.net/${t}/sdk${n?"/xfbml.customerchat":""}.js`)})},redirectToDialog(t,n){var o=c(n,["ignoreSdkError"]);window.location.href=`https://www.facebook.com/dialog/oauth${(0,r.objectToParams)(Object.assign(Object.assign({},t),o))}`},login(t,n){var o,{ignoreSdkError:i}=n,l=c(n,["ignoreSdkError"]);try{(o=this.getFB())===null||o===void 0||o.login(t,l)}catch(u){if(i)return;throw u}},logout(t){this.getLoginStatus(n=>{var o;n.status==="connected"?(o=this.getFB())===null||o===void 0||o.logout(t):t()})}}})($);var ue=s&&s.__createBinding||(Object.create?function(e,a,c,r){r===void 0&&(r=c);var t=Object.getOwnPropertyDescriptor(a,c);(!t||("get"in t?!a.__esModule:t.writable||t.configurable))&&(t={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(e,r,t)}:function(e,a,c,r){r===void 0&&(r=c),e[r]=a[c]}),se=s&&s.__setModuleDefault||(Object.create?function(e,a){Object.defineProperty(e,"default",{enumerable:!0,value:a})}:function(e,a){e.default=a}),de=s&&s.__importStar||function(e){if(e&&e.__esModule)return e;var a={};if(e!=null)for(var c in e)c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)&&ue(a,e,c);return se(a,e),a},fe=s&&s.__awaiter||function(e,a,c,r){function t(n){return n instanceof c?n:new c(function(o){o(n)})}return new(c||(c=Promise))(function(n,o){function i(f){try{u(r.next(f))}catch(b){o(b)}}function l(f){try{u(r.throw(f))}catch(b){o(b)}}function u(f){f.done?n(f.value):t(f.value).then(i,l)}u((r=r.apply(e,a||[])).next())})};Object.defineProperty(N,"__esModule",{value:!0});const U=de(g),w=$,ge=I;function ve(e){var a,c;const{appId:r,language:t="en_US",scope:n="public_profile, email",fields:o="name,email,picture",onSuccess:i,onFail:l,onProfileSuccess:u,className:f,style:b,children:L="Login with Facebook",render:v,autoLoad:_=!1,useRedirect:h=!1,useCustomerChat:B=!1}=e,F=Object.assign(Object.assign({version:"v16.0",xfbml:!1,cookie:!1,localStorage:!0},e.initParams),{appId:r}),P=Object.assign(Object.assign({redirect_uri:typeof window<"u"?location.origin+location.pathname:"/",state:"facebookdirect",response_type:"code"},e.dialogParams),{client_id:r}),O=Object.assign(Object.assign({return_scopes:!1,ignoreSdkError:!1},e.loginOptions),{auth_nonce:typeof((a=e.loginOptions)===null||a===void 0?void 0:a.auth_nonce)=="function"?e.loginOptions.auth_nonce():(c=e.loginOptions)===null||c===void 0?void 0:c.auth_nonce,scope:n});(0,U.useEffect)(()=>{C()},[]);const C=()=>fe(this,void 0,void 0,function*(){yield w.FacebookLoginClient.loadSdk(t,B),window.fbAsyncInit=()=>{w.FacebookLoginClient.init(F);const p=w.FacebookLoginClient.isRedirected(P);if(p===!1&&_){j();return}p===!0&&h&&S()}}),S=()=>{w.FacebookLoginClient.login(p=>{if(!p.authResponse){l&&l({status:"loginCancelled"});return}i&&i(p.authResponse),u&&w.FacebookLoginClient.getProfile(u,{fields:o})},Object.assign(Object.assign({},O),{scope:n}))},j=()=>{if((0,ge.isFacebookApp)()||h){w.FacebookLoginClient.redirectToDialog(P,O);return}if(!window.FB){l&&l({status:"facebookNotLoaded"});return}S()};return v?v({onClick:j,logout:w.FacebookLoginClient.logout}):U.default.createElement("button",{type:"button",onClick:j,className:f,style:b},L)}N.default=ve;var H={},V={};Object.defineProperty(V,"__esModule",{value:!0});var J={};Object.defineProperty(J,"__esModule",{value:!0});var Q={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LoginStatus=void 0,function(a){a.Connected="connected",a.NotAuthorized="not_authorized",a.Unknown="unknown"}(e.LoginStatus||(e.LoginStatus={}))})(Q);(function(e){var a=s&&s.__createBinding||(Object.create?function(r,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(r,o,i)}:function(r,t,n,o){o===void 0&&(o=n),r[o]=t[n]}),c=s&&s.__exportStar||function(r,t){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&a(t,r,n)};Object.defineProperty(e,"__esModule",{value:!0}),c(V,e),c(J,e),c(Q,e)})(H);(function(e){var a=s&&s.__createBinding||(Object.create?function(n,o,i,l){l===void 0&&(l=i);var u=Object.getOwnPropertyDescriptor(o,i);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,l,u)}:function(n,o,i,l){l===void 0&&(l=i),n[l]=o[i]}),c=s&&s.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&a(o,n,i)},r=s&&s.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(e,"__esModule",{value:!0});const t=r(N);c(I,e),c(H,e),c(N,e),c($,e),e.default=t.default})(ce);const _e=g.memo(()=>{const e=Y(),a="534755738662-aaan7ti8cb2haqk5ma1celu6tg2kr23a.apps.googleusercontent.com",[c,r]=g.useState(!1),t=g.useRef(!1),n=()=>{t.current=!1,r(!1),e("/")},o=async l=>{if(t.current){console.log("Login attempt already in progress");return}t.current=!0,r(!0);try{const u=await Z(l.credential,"google");if(u.success&&u.isAuthenticated)n();else throw new Error(u.message||"Authentication failed")}catch(u){t.current=!1,alert(u.message||"Failed to authenticate. Please try again.")}finally{r(!1),t.current=!1}},i=()=>{console.log("Google Login Failed"),t.current=!1,r(!1)};return d.jsx("div",{className:"login-page",children:d.jsxs("div",{className:"login-container",children:[d.jsx("div",{className:"login-left",children:d.jsxs("div",{className:"login-left-content",children:[d.jsx(K,{className:"large-logo"}),d.jsx("h2",{className:"welcome-text",children:"Welcome to Leikapui Studios"}),d.jsx("p",{className:"tagline",children:"Home of the best movies and shows"})]})}),d.jsx("div",{className:"login-right",children:d.jsxs("div",{className:"login-form-container",children:[d.jsx("div",{className:"mobile-logo-container",children:d.jsx(K,{className:"mobile-logo"})}),d.jsx("h1",{className:"login-title",children:"Welcome Back!"}),d.jsx("p",{className:"login-subtitle",children:"Sign in to continue your journey"}),d.jsx("div",{className:"auth-buttons",children:d.jsx(te,{clientId:a,children:d.jsx("div",{className:"auth-button google",children:d.jsx(re,{onSuccess:o,onError:i,type:"standard",shape:"rectangular",size:"large",width:"100%",text:"signin_with",logo_alignment:"center",useOneTap:!1,auto_select:!1,context:"signin"})})})}),d.jsx("div",{className:"login-footer",children:d.jsxs("p",{className:"terms-text",children:["By signing in, you agree to our"," ",d.jsx("a",{href:"/terms",children:"Terms of Service"})," and"," ",d.jsx("a",{href:"/privacy",children:"Privacy Policy"})]})})]})})]})})});_e.displayName="LoginPage";export{_e as default};

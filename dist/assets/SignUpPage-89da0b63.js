import{r as o,u as C,j as e,i as v,R as p,C as t,n as s,L as g}from"./index-9684c524.js";const S=o.memo(()=>{const{t:a}=C(),[x,c]=o.useState(null),[w,i]=o.useState(!1),[n,f]=o.useState({full_name:"",email:"",username:"",phone:"",password:"",confirm_password:"",terms:!1}),N="http://localhost:4000",[r,j]=o.useState({full_name:"",email:"",username:"",phone:"",password:"",confirm_password:""});function l(d){const{name:m,value:h,type:u,checked:_}=d.target;f(y=>({...y,[m]:u==="checkbox"?_:h})),j({...r,[m]:""})}const b=async d=>{if(d.preventDefault(),i(!0),c(null),n.password!==n.confirm_password){j(u=>({...u,confirm_password:a("form.passwords_mismatch")})),i(!1);return}console.log("Form Data Submitted:",n);const m=await fetch(`${N}/api/users`,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}),h=await m.json();m.ok?(f({full_name:"",email:"",username:"",phone:"",password:"",confirm_password:"",terms:!1}),c(null),console.log("New User added")):c(h.error),i(!1)};return e.jsx(o.Fragment,{children:e.jsx("main",{className:"main-content",children:e.jsx("div",{className:"vh-100",style:{backgroundImage:"url(assets/images/pages/01.webp)",backgroundSize:"cover",backgroundRepeat:"no-repeat",position:"relative",minHeight:"500px"},children:e.jsx(v,{children:e.jsx(p,{className:"justify-content-center align-items-center height-self-center vh-100",children:e.jsx(t,{lg:"8",md:"12",className:"align-self-center",children:e.jsxs("form",{className:"user-login-card bg-body",onSubmit:b,children:[e.jsx("h4",{className:"text-center mb-5",children:a("form.create_account")}),x&&e.jsx("p",{className:"text-primary text-center",children:x}),e.jsxs(p,{lg:"2",className:"row-cols-1 g-2 g-lg-5",children:[e.jsxs(t,{children:[e.jsx(s.Label,{className:"text-white fw-500 mb-2",children:a("form.full_name")}),e.jsx(s.Control,{type:"text",className:"rounded-0",required:!0,name:"full_name",value:n.full_name,onChange:l}),r.full_name&&e.jsx("p",{className:"text-danger",children:r.full_name})]}),e.jsxs(t,{children:[e.jsxs(s.Label,{className:"text-white fw-500 mb-2",children:[a("form.username")," *"]}),e.jsx(s.Control,{type:"text",className:"rounded-0",required:!0,name:"username",value:n.username,onChange:l}),r.username&&e.jsx("p",{className:"text-danger",children:r.username})]}),e.jsxs(t,{children:[e.jsxs(s.Label,{className:"text-white fw-500 mb-2",children:[a("form.email")," *"]}),e.jsx(s.Control,{type:"email",className:"rounded-0",required:!0,name:"email",value:n.email,onChange:l}),r.email&&e.jsx("p",{className:"text-danger",children:r.email})]}),e.jsxs(t,{children:[e.jsxs(s.Label,{className:"text-white fw-500 mb-2",children:[a("form.phone")," *"]}),e.jsx(s.Control,{type:"tel",className:"rounded-0",required:!0,name:"phone",value:n.phone,onChange:l}),r.phone&&e.jsx("p",{className:"text-danger",children:r.phone})]}),e.jsxs(t,{children:[e.jsxs(s.Label,{className:"text-white fw-500 mb-2",children:[a("form.password")," *"]}),e.jsx(s.Control,{type:"password",className:"rounded-0",required:!0,name:"password",value:n.password,onChange:l}),r.password&&e.jsx("p",{className:"text-danger",children:r.password})]}),e.jsxs(t,{children:[e.jsxs(s.Label,{className:"text-white fw-500 mb-2",children:[a("form.confirm_password")," *"]}),e.jsx(s.Control,{type:"password",className:"rounded-0",required:!0,name:"confirm_password",value:n.confirm_password,onChange:l}),r.confirm_password&&e.jsx("p",{className:"text-danger",children:r.confirm_password})]})]}),e.jsxs(s.Label,{className:"list-group-item d-flex align-items-center mt-5 mb-3 text-white",children:[e.jsx(s.Check.Input,{className:"m-0 me-2",type:"checkbox",name:"terms",checked:n.terms,onChange:l}),a("form.read_and_accept"),e.jsx(g,{to:"/terms-of-use",className:"ms-1",children:a("form.terms_conditions")})]}),e.jsxs(p,{className:"text-center",children:[e.jsx(t,{lg:"3"}),e.jsx(t,{lg:"6",children:e.jsxs("div",{className:"full-button",children:[e.jsxs("button",{className:"btn btn-primary",type:"submit",disabled:w,children:[e.jsx("span",{className:"button-text",children:a("form.sign_up")}),e.jsx("i",{className:"fa-solid fa-play"})]}),e.jsxs("p",{className:"mt-2 mb-0 fw-normal",children:[a("form.already_account"),"?",e.jsx(g,{to:"/login",className:"ms-1",children:a("shop.login")})]})]})}),e.jsx(t,{lg:"3"})]})]})})})})})})})});S.displayName="SignUpPage";export{S as default};

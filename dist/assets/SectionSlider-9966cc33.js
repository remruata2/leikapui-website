import{r as p,j as u,i as N,L as O}from"./index-9684c524.js";import{g as h,n as M,S as k,a as B,N as C}from"./swiper-slide-40dc86c3.js";function I({swiper:e,extendParams:g,on:d,emit:t}){let l;e.autoplay={running:!1,paused:!1},g({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function o(){if(!e.size){e.autoplay.running=!1,e.autoplay.paused=!1;return}const a=e.slides.eq(e.activeIndex);let s=e.params.autoplay.delay;a.attr("data-swiper-autoplay")&&(s=a.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(l),l=M(()=>{let n;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),n=e.slidePrev(e.params.speed,!0,!0),t("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?i():(n=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),t("autoplay")):(n=e.slidePrev(e.params.speed,!0,!0),t("autoplay")):e.params.loop?(e.loopFix(),n=e.slideNext(e.params.speed,!0,!0),t("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?i():(n=e.slideTo(0,e.params.speed,!0,!0),t("autoplay")):(n=e.slideNext(e.params.speed,!0,!0),t("autoplay")),(e.params.cssMode&&e.autoplay.running||n===!1)&&o()},s)}function v(){return typeof l<"u"||e.autoplay.running?!1:(e.autoplay.running=!0,t("autoplayStart"),o(),!0)}function i(){return!e.autoplay.running||typeof l>"u"?!1:(l&&(clearTimeout(l),l=void 0),e.autoplay.running=!1,t("autoplayStop"),!0)}function r(a){e.autoplay.running&&(e.autoplay.paused||(l&&clearTimeout(l),e.autoplay.paused=!0,a===0||!e.params.autoplay.waitForTransition?(e.autoplay.paused=!1,o()):["transitionend","webkitTransitionEnd"].forEach(s=>{e.$wrapperEl[0].addEventListener(s,y)})))}function b(){const a=h();a.visibilityState==="hidden"&&e.autoplay.running&&r(),a.visibilityState==="visible"&&e.autoplay.paused&&(o(),e.autoplay.paused=!1)}function y(a){!e||e.destroyed||!e.$wrapperEl||a.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(s=>{e.$wrapperEl[0].removeEventListener(s,y)}),e.autoplay.paused=!1,e.autoplay.running?o():i())}function c(){e.params.autoplay.disableOnInteraction?i():(t("autoplayPause"),r()),["transitionend","webkitTransitionEnd"].forEach(a=>{e.$wrapperEl[0].removeEventListener(a,y)})}function m(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,t("autoplayResume"),o())}function x(){e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",c),e.$el.on("mouseleave",m))}function E(){e.$el.off("mouseenter",c),e.$el.off("mouseleave",m)}d("init",()=>{e.params.autoplay.enabled&&(v(),h().addEventListener("visibilitychange",b),x())}),d("beforeTransitionStart",(a,s,n)=>{e.autoplay.running&&(n||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(s):i())}),d("sliderFirstMove",()=>{e.autoplay.running&&(e.params.autoplay.disableOnInteraction?i():r())}),d("touchEnd",()=>{e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&o()}),d("destroy",()=>{E(),e.autoplay.running&&i(),h().removeEventListener("visibilitychange",b)}),Object.assign(e.autoplay,{pause:r,run:o,start:v,stop:i})}const F=[I,C],q=p.memo(({children:e,title:g,list:d=[],slidesPerView:t=6,loop:l=!1,spaceBetween:o=0,className:v="",link:i,viewAll:r,wrapperClass:b,paddingY:y="",slideSmall:c=2,slideMedium:m=3,cardClass:x=!0,swiperClass:E})=>{const a=p.useRef(null),s=p.useCallback(f=>{if(a.current&&f){a.current.querySelectorAll(".swiper-slide").forEach(L=>L.classList.remove("last"));const S=a.current.querySelectorAll(".swiper-slide-visible"),T=S[S.length-1];setTimeout(()=>{T&&T.classList.add("swiper-active","last")},0)}},[]),n=p.useCallback(f=>{s(f)},[s]),j=p.useMemo(()=>F,[]),$=p.useMemo(()=>({0:{slidesPerView:c,spaceBetween:0},576:{slidesPerView:c,spaceBetween:0},768:{slidesPerView:m,spaceBetween:0},1025:{slidesPerView:t,spaceBetween:0},1500:{slidesPerView:t,spaceBetween:0}}),[c,m,t]);return u.jsx("div",{className:v,children:u.jsx(N,{fluid:!0,children:u.jsxs("div",{className:`overflow-hidden ${x?"card-style-slider":""}`,ref:a,children:[u.jsxs("div",{className:`d-flex align-items-center justify-content-between px-md-3 px-1 mb-4 ${y}`,children:[u.jsx("h5",{className:"main-title text-capitalize mb-0",children:g}),r===!1?"":u.jsx(O,{to:r||"",className:"text-primary iq-view-all text-decoration-none",children:"View All"})]}),u.jsxs(k,{className:`position-relative swiper swiper-card ${b?"wrapper-class":""} ${E}`,slidesPerView:t,loop:l,watchSlidesProgress:!0,spaceBetween:o,navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},breakpoints:$,onSwiper:n,onSlideChange:n,modules:j,children:[d.map((f,S)=>u.jsx(B,{tag:"li",children:typeof e=="function"?e(f):null},f._id)),u.jsx("div",{className:"swiper-button swiper-button-next"}),u.jsx("div",{className:"swiper-button swiper-button-prev"})]})]})})})});q.displayName="SectionSlider";export{q as S};

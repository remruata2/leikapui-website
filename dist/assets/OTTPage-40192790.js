import{r as s,u as g,b as A,t as M,d as P,j as e,e as T}from"./index-9684c524.js";import{C as N}from"./CustomButton-b5c6f93c.js";import{S as b,N as S,a as y}from"./swiper-slide-40dc86c3.js";import{T as k}from"./thumbs-a28fe687.js";import{S as _}from"./SectionSlider-9966cc33.js";import{C as E}from"./CardStyle-c98e6650.js";const f=s.memo(()=>{const{t:o}=g(),i=A(M),[d,w]=s.useState(null),[m,h]=s.useState(!1),[a,p]=s.useState([]),n=P(),u="http://localhost:4000",[z,j]=s.useState(!0);return s.useEffect(()=>{(async()=>{try{const x=await(await fetch(`${u}/api/sliders`)).json();p(x),j(!1)}catch(r){console.error("Error fetching slider data:",r),j(!1)}})()},[]),s.useEffect(()=>{if(n.pathname==="/"&&i==="rtl"){const t=document.getElementsByClassName("swiper-wrapper"),r=document.getElementsByClassName("swiper-rtl-wrapper"),x=(c,v)=>{const l=c.parentElement;switch(l.classList.remove("swiper-wrapper"),l.classList.add("swiper-rtl-wrapper"),v){case 0:l.classList.add("iq-rtl");break;case 1:l.classList.add("iq-rtl-one");break;case 2:l.classList.add("iq-rtl-two");break}};return Array.from(t).forEach((c,v)=>{c.classList.add("swiper-rtl-wrapper"),Array.from(c.childNodes).forEach(l=>{l.classList.contains("swiper-slide-active")&&x(l,v)})}),Array.from(r).forEach((c,v)=>{Array.from(c.childNodes).forEach(l=>{l.classList.contains("swiper-slide-active")&&x(l,v)})}),()=>{Array.from(t).forEach(c=>{c.classList.remove("swiper-rtl-wrapper"),c.classList.add("swiper-wrapper")})}}},[m,i,n.pathname]),e.jsx(s.Fragment,{children:e.jsx("div",{className:`iq-banner-thumb-slider ${z?"loading":"loaded"}`,children:e.jsx("div",{className:"slider",children:e.jsxs("div",{className:"position-relative slider-bg d-flex justify-content-end",children:[e.jsx("div",{className:"position-relative my-auto",children:e.jsx("div",{className:"horizontal_thumb_slider","data-swiper":"slider-thumbs-ott",children:e.jsxs("div",{className:"banner-thumb-slider-nav",children:[e.jsx(b,{dir:i,thumbs:{swiper:d&&!d.destroyed?d:null},autoplay:{delay:1e3},direction:"horizontal",navigation:{prevEl:".slider-prev",nextEl:".slider-next"},spaceBetween:24,loop:!0,slidesPerView:2,breakpoints:{0:{direction:"horizontal",slidesPerView:1},768:{direction:"horizontal",slidesPerView:2}},watchSlidesProgress:!0,modules:[S,k],className:"swiper-horizontal swiper-container mb-0",id:"responsive-rtl-swiper",children:a.map((t,r)=>e.jsx(y,{className:"swiper-bg",id:"iq-small-rtl-swiper","data-swiper-small-slide-index":`small-${r+1}`,children:e.jsx("div",{className:"block-images position-relative",children:e.jsxs("div",{className:"img-box",children:[e.jsx("img",{src:t.horizontal_poster,className:"img-fluid",alt:"",loading:"lazy"}),e.jsxs("div",{className:"block-description",children:[e.jsx("h6",{className:"iq-title fw-500 mb-0",children:o(t.title)}),e.jsx("span",{className:"fs-12",children:t.duration||"Tv Show"}),e.jsx("br",{}),e.jsx("span",{className:"fs-12",children:t.genres})]})]})})},r))}),e.jsx("div",{className:"slider-prev swiper-button",onClick:()=>h(!m),children:e.jsx("i",{className:"iconly-Arrow-Left-2 icli"})}),e.jsx("div",{className:"slider-next swiper-button",onClick:()=>h(!m),children:e.jsx("i",{className:"iconly-Arrow-Right-2 icli"})})]})})}),e.jsx("div",{className:"slider-images iq-rtl-thumb-swiper","data-swiper":"slider-images-ott",children:e.jsx(b,{dir:i,onSwiper:w,slidesPerView:1,modules:[S,k],watchSlidesProgress:!0,autoplay:{delay:1e3,disableOnInteraction:!0},"data-swiper-slide-index":"0",breakpoints:{0:{allowTouchMove:!0},768:{allowTouchMove:!0},1025:{allowTouchMove:!1},1500:{allowTouchMove:!1}},allowTouchMove:!1,loop:!0,className:"swiper-container",id:"iq-rtl-thumb-swiper",children:a.map((t,r)=>e.jsxs(y,{className:"swiper",id:r+1,"data-swiper-slide-index":r,children:[e.jsx("div",{className:"slider--image block-images",children:e.jsx("img",{src:t.horizontal_poster,loading:"lazy",alt:"banner"})}),e.jsx("div",{className:"description",children:e.jsx("div",{className:"row align-items-center h-100",children:e.jsx("div",{className:"col-lg-6 col-md-12",children:e.jsxs("div",{className:"slider-content",children:[e.jsx("div",{className:"d-flex align-items-center RightAnimate mb-3",children:e.jsx("span",{className:"badge rounded-0 text-dark text-uppercase px-3 py-2 me-3 bg-white mr-3",children:t.rating})}),e.jsx("h1",{className:"texture-text big-font letter-spacing-1 line-count-1 text-capitalize RightAnimate-two",children:t.title}),e.jsx("p",{className:"line-count-3 RightAnimate-two",children:o("ott_home.after_death")}),e.jsxs("div",{children:[e.jsx("span",{className:"font-size-14 fw-500",children:t.duration||"Tv Show"}),e.jsxs("div",{className:"text-primary font-size-14 fw-500 text-capitalize",children:[o("ott_home.genres"),":"," ",e.jsx("span",{className:"text-danger",children:t.genres})]})]}),t.type==="movie"?e.jsx(N,{buttonTitle:o("ott_home.stream_now"),link:`/movies-detail/${t._id}`,linkButton:"false"}):e.jsx(N,{buttonTitle:o("ott_home.stream_now"),link:`/shows-details/${t._id}`,linkButton:"false"})]})})})})]},r))})})]})})})})});f.displayName=f;const L=s.memo(o=>{const{t:i}=g(),[d,w]=s.useState([]),[m,h]=s.useState(!0),a="http://localhost:4000";s.useEffect(()=>{(async()=>{try{const u=await T.get(`${a}/api/movies`);w(u.data.data),h(!1)}catch(u){console.error("There was an error fetching the movies!",u),h(!1)}})()},[]);const p=s.useCallback(n=>e.jsx(E,{image:n.vertical_poster,title:i(n.title),movieTime:n.duration,watchlistLink:"/playlist",link:`/movies-detail/${n._id}`},n._id),[i]);return e.jsx(s.Fragment,{children:e.jsx("div",{className:`popular-movies-container ${m?"loading":"loaded"}`,children:e.jsx(_,{title:i("Movies"),list:d,className:"popular-movies-block streamit-block",viewAll:"/movies",paddingY:o.paddingY,children:p})})})});L.displayName="PopularMovies";const C=s.memo(o=>{const{t:i}=g(),[d,w]=s.useState([]),m="http://localhost:4000";s.useEffect(()=>{(async()=>{try{const p=await T.get(`${m}/api/tvShows`);w(p.data)}catch(p){console.error("There was an error fetching the TvShows!",p)}})()},[]);const h=s.useCallback(a=>e.jsx(E,{image:a.vertical_poster,title:i(a.show_name),movieTime:a.duration,watchlistLink:"/playlist",link:`/shows-details/${a._id}`},a._id),[i]);return e.jsx(s.Fragment,{children:e.jsx(_,{title:i("Series"),list:d,className:"popular-tvShows-block streamit-block",viewAll:"/tv-shows",paddingY:o.paddingY,children:h})})});C.displayName="TvShowsSlider";console.log("Test OttPage renders");const $=s.memo(()=>e.jsxs(s.Fragment,{children:[e.jsx(f,{}),e.jsx(L,{paddingY:"my-4"}),e.jsx(C,{})]}));$.displayName="HomePage";export{$ as default};

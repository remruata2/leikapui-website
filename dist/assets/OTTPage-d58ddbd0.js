import{r as s,u as g,b as M,t as $,l as P,j as e,e as T}from"./index-64dcebe6.js";import{C as N}from"./CustomButton-579b6efa.js";import{S as b,N as S,a as y}from"./swiper-slide-2907628c.js";import{T as k}from"./thumbs-57c72272.js";import{G as _}from"./iconBase-42b2867d.js";import{S as L}from"./SectionSlider-90613f14.js";import{C as E}from"./CardStyle-a2a86ac7.js";function B(i){return _({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(i)}function q(i){return _({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(i)}const f=s.memo(()=>{const{t:i}=g(),a=M($),[d,u]=s.useState(null),[m,h]=s.useState(!1),[r,p]=s.useState([]),n=P(),w="http://localhost:4000",[A,j]=s.useState(!0);return s.useEffect(()=>{(async()=>{try{const x=await(await fetch(`${w}/api/sliders`)).json();p(x),j(!1)}catch(o){console.error("Error fetching slider data:",o),j(!1)}})()},[]),s.useEffect(()=>{if(n.pathname==="/"&&a==="rtl"){const t=document.getElementsByClassName("swiper-wrapper"),o=document.getElementsByClassName("swiper-rtl-wrapper"),x=(c,v)=>{const l=c.parentElement;switch(l.classList.remove("swiper-wrapper"),l.classList.add("swiper-rtl-wrapper"),v){case 0:l.classList.add("iq-rtl");break;case 1:l.classList.add("iq-rtl-one");break;case 2:l.classList.add("iq-rtl-two");break}};return Array.from(t).forEach((c,v)=>{c.classList.add("swiper-rtl-wrapper"),Array.from(c.childNodes).forEach(l=>{l.classList.contains("swiper-slide-active")&&x(l,v)})}),Array.from(o).forEach((c,v)=>{Array.from(c.childNodes).forEach(l=>{l.classList.contains("swiper-slide-active")&&x(l,v)})}),()=>{Array.from(t).forEach(c=>{c.classList.remove("swiper-rtl-wrapper"),c.classList.add("swiper-wrapper")})}}},[m,a,n.pathname]),e.jsx(s.Fragment,{children:e.jsx("div",{className:`iq-banner-thumb-slider ${A?"loading":"loaded"}`,children:e.jsx("div",{className:"slider",children:e.jsxs("div",{className:"position-relative slider-bg d-flex justify-content-end",children:[e.jsx("div",{className:"position-relative my-auto",children:e.jsx("div",{className:"horizontal_thumb_slider","data-swiper":"slider-thumbs-ott",children:e.jsxs("div",{className:"banner-thumb-slider-nav",children:[e.jsx(b,{dir:a,thumbs:{swiper:d&&!d.destroyed?d:null},autoplay:{delay:1e3},direction:"horizontal",navigation:{prevEl:".slider-prev",nextEl:".slider-next"},spaceBetween:24,loop:!0,slidesPerView:1,breakpoints:{0:{direction:"horizontal",slidesPerView:1}},watchSlidesProgress:!0,modules:[S,k],className:"swiper-horizontal swiper-container mb-0",id:"responsive-rtl-swiper",children:r.map((t,o)=>e.jsx(y,{className:"swiper-bg",id:"iq-small-rtl-swiper","data-swiper-small-slide-index":`small-${o+1}`,children:e.jsx("div",{className:"block-images position-relative",children:e.jsxs("div",{className:"img-box",children:[e.jsx("img",{src:t.horizontal_poster,className:"img-fluid",alt:"",loading:"lazy"}),e.jsxs("div",{className:"block-description",children:[e.jsx("h6",{className:"iq-title fw-500 mb-0",children:i(t.title)}),e.jsx("span",{className:"fs-12",children:t.duration||"Tv Show"}),e.jsx("br",{}),e.jsx("span",{className:"fs-12",children:t.genres})]})]})})},o))}),e.jsx("div",{className:"slider-prev swiper-button",onClick:()=>h(!m),children:e.jsx(B,{size:24})}),e.jsx("div",{className:"slider-next swiper-button",onClick:()=>h(!m),children:e.jsx(q,{size:24})})]})})}),e.jsx("div",{className:"slider-images iq-rtl-thumb-swiper","data-swiper":"slider-images-ott",children:e.jsx(b,{dir:a,onSwiper:u,slidesPerView:1,modules:[S,k],watchSlidesProgress:!0,autoplay:{delay:1e3,disableOnInteraction:!0},"data-swiper-slide-index":"0",breakpoints:{0:{allowTouchMove:!0},768:{allowTouchMove:!0},1025:{allowTouchMove:!1},1500:{allowTouchMove:!1}},allowTouchMove:!1,loop:!0,className:"swiper-container",id:"iq-rtl-thumb-swiper",children:r.map((t,o)=>e.jsxs(y,{className:"swiper",id:o+1,"data-swiper-slide-index":o,children:[e.jsx("div",{className:"slider--image block-images",children:e.jsx("img",{src:t.horizontal_poster,loading:"lazy",alt:"banner"})}),e.jsx("div",{className:"description",children:e.jsx("div",{className:"row align-items-center h-100",children:e.jsx("div",{className:"col-lg-6 col-md-12",children:e.jsxs("div",{className:"slider-content",children:[e.jsx("div",{className:"d-flex align-items-center RightAnimate mb-3",children:e.jsx("span",{className:"badge rounded-0 text-dark text-uppercase px-3 py-2 me-3 bg-white mr-3",children:t.rating})}),e.jsx("h1",{className:"texture-text big-font letter-spacing-1 line-count-1 text-capitalize RightAnimate-two",children:t.title}),e.jsx("p",{className:"line-count-3 RightAnimate-two",children:i("ott_home.after_death")}),e.jsxs("div",{children:[e.jsx("span",{className:"font-size-14 fw-500",children:t.duration||"Tv Show"}),e.jsxs("div",{className:"text-primary font-size-14 fw-500 text-capitalize",children:[i("ott_home.genres"),":"," ",e.jsx("span",{className:"text-danger",children:t.genres})]})]}),t.type==="movie"?e.jsx(N,{buttonTitle:i("ott_home.stream_now"),link:`/movies-detail/${t._id}`,linkButton:"false"}):e.jsx(N,{buttonTitle:i("ott_home.stream_now"),link:`/shows-details/${t._id}`,linkButton:"false"})]})})})})]},o))})})]})})})})});f.displayName=f;const C=s.memo(i=>{const{t:a}=g(),[d,u]=s.useState([]),[m,h]=s.useState(!0),r="http://localhost:4000";s.useEffect(()=>{(async()=>{try{const w=await T.get(`${r}/api/movies`);u(w.data.data),h(!1)}catch(w){console.error("There was an error fetching the movies!",w),h(!1)}})()},[]);const p=s.useCallback(n=>e.jsx(E,{image:n.vertical_poster,title:a(n.title),movieTime:n.duration,watchlistLink:"/playlist",link:`/movies-detail/${n._id}`},n._id),[a]);return e.jsx(s.Fragment,{children:e.jsx("div",{className:`popular-movies-container ${m?"loading":"loaded"}`,children:e.jsx(L,{title:a("ott_home.popular_movies"),list:d,className:"popular-movies-block leikapui-block",viewAll:"/movies",paddingY:i.paddingY,children:p})})})});C.displayName="PopularMovies";const z=s.memo(i=>{const{t:a}=g(),[d,u]=s.useState([]),m="http://localhost:4000";s.useEffect(()=>{(async()=>{try{const p=await T.get(`${m}/api/tvShows`);u(p.data)}catch(p){console.error("There was an error fetching the TvShows!",p)}})()},[]);const h=s.useCallback(r=>e.jsx(E,{image:r.vertical_poster,title:a(r.show_name),movieTime:r.duration,watchlistLink:"/playlist",link:`/shows-details/${r._id}`},r._id),[a]);return e.jsx(s.Fragment,{children:e.jsx(L,{title:a("Series"),list:d,className:"popular-tvShows-block streamit-block",viewAll:"/tv-shows",paddingY:i.paddingY,children:h})})});z.displayName="TvShowsSlider";console.log("Test OttPage renders");const I=s.memo(()=>e.jsxs(s.Fragment,{children:[e.jsx(f,{}),e.jsx(C,{paddingY:"my-4"}),e.jsx(z,{})]}));I.displayName="HomePage";export{I as default};
